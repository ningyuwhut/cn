---
layout: post 
title: 硬链接 and 软连接
categories:
- 操作系统
tags:
- 
---

软连接或者符号链接很好理解,它很想windows下面的快捷方式.软连接中没有目标文件的任何信息或内容,仅仅包含指向目标文件的指针.以linux为例,在软连接中,新建立了一个inode节点,该节点包含了指向原始文件的inode.

![](../media/image/soft_link.png)

在linux中通过ln -s 命令创建符号链接.

硬链接

在软连接中会创建一个新的文件inode,但是硬链接只在目录结构中创建一个文件的条目,而它指向原始文件的inode位置.
也就是说,硬链接中不创建新的inode.

![](../media/image/hard_link.png)

硬链接直接指向文件的inode,所以我们需要知道有多少硬链接指向一个文件.这是通过inode结构体中的links选项实现的,
它指明了存在多少硬链接指向自己.

linux中通过ln命令创建硬链接.

什么时候使用软连接

1.跨文件系统链接
当你想链接另外一个文件系统的文件时,只能使用软连接了
2.链接目录
如果你想链接一个目录,只能使用软连接.

什么时候使用硬链接
1.节省空间
硬链接不创建新的inode节点
2.性能
硬链接直接存取文件而不是先去访问另外一个文件
3.移动文件
如果把文件移动到同一个文件系统的其他位置,硬链接同样有效,软连接却会失效.
4.冗余
如果你想确保数据的安全性,你应该使用硬链接,因为硬链接中只有所有指向文件的硬链接都被删除,数据才会被删除.
但是在软连接中,只要原始文件被删除,你的数据就丢失了.

参考:

1.http://www.geekride.com/hard-link-vs-soft-link/


